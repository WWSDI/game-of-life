[{"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/index.js":"1","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/App.js":"2","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Board.jsx":"3","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Control.jsx":"4","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Cell.jsx":"5","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Button.jsx":"6","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/boardUtils.js":"7","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/cellUtils.js":"8","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/uiUtils.js":"9","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/appUtil.js":"10","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Info.jsx":"11","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/demoUtil.js":"12","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Header.jsx":"13"},{"size":167,"mtime":1658118267948,"results":"14","hashOfConfig":"15"},{"size":2121,"mtime":1660254565151,"results":"16","hashOfConfig":"15"},{"size":3187,"mtime":1658353512368,"results":"17","hashOfConfig":"15"},{"size":13049,"mtime":1660255230994,"results":"18","hashOfConfig":"15"},{"size":1369,"mtime":1658217023087,"results":"19","hashOfConfig":"15"},{"size":371,"mtime":1658298317714,"results":"20","hashOfConfig":"15"},{"size":657,"mtime":1658217023088,"results":"21","hashOfConfig":"15"},{"size":1660,"mtime":1658217023088,"results":"22","hashOfConfig":"15"},{"size":740,"mtime":1658217023089,"results":"23","hashOfConfig":"15"},{"size":95,"mtime":1658353512370,"results":"24","hashOfConfig":"15"},{"size":374,"mtime":1660254665701,"results":"25","hashOfConfig":"15"},{"size":2490,"mtime":1658353512370,"results":"26","hashOfConfig":"15"},{"size":550,"mtime":1660255081434,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"e9juq6",{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/index.js",[],["56","57"],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/App.js",["58","59"],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Board.jsx",["60","61","62"],"import { useEffect, useRef } from \"react\";\nimport Cell from \"./Cell\";\nimport styles from \"./board.module.css\";\nimport {\n  getNumofLiveNeighbours,\n  getNextGen,\n  getNeighboursIndices,\n  getValidNeighboursIndices,\n} from \"../utils/cellUtils\";\n\nexport default function Board({\n  board,\n  setBoard,\n  cols,\n  rows,\n  start,\n  setStart,\n  speed,\n  setGeneration,\n  theme,\n  step,\n  setStep,\n  draw,\n  setDraw,\n}) {\n  const handleClick = (e) => {\n    const { value: idx } = e.target.attributes.idx;\n\n    const newValue = !board[idx];\n    const newBoard = [...board];\n    newBoard[idx] = newValue;\n    setBoard(newBoard);\n  };\n\n  const handleDraw = (e) => {\n    const idx = Number(e.target.attributes.idx.value);\n    \n    // wide stroke\n    if (draw && e.ctrlKey) {\n      const newBoard = [...board];\n      newBoard[idx] = true;\n\n      const neighbours = getValidNeighboursIndices(rows, idx, cols);\n      // console.log(neighbours);\n      neighbours.forEach((n) => (newBoard[n] = true));\n      setBoard(newBoard);\n    }\n\n    // thin stroke\n    if (draw && e.altKey && !e.metaKey) {\n      if (board[idx]) return;\n\n      const newBoard = [...board];\n      newBoard[idx] = true;\n      setBoard(newBoard);\n    }\n\n    // erase with normal/wide stroke\n    if (draw && e.metaKey) {\n      const newBoard = [...board];\n      newBoard[idx] = false;\n\n      // hold both ctrl and meta key to apply normal stroke erasing\n      if (!e.altKey) {\n        const neighbours = getValidNeighboursIndices(rows, idx, cols);\n        // console.log(neighbours);\n        neighbours.forEach((n) => (newBoard[n] = false));\n      }\n\n      setBoard(newBoard);\n    }\n  };\n\n  // for stepping\n  //感覺這裡好像很適合寫成custom hook，可以試試看\n  // useRef() is used for saving remaining render count between renders, so that this useEffect hook doesn't over render (it renders twice due to update delay of step state)\n  const savedCount = useRef(0);\n  useEffect(() => {\n    if (step) {\n      savedCount.current += 1;\n    }\n\n    const newBoard = board.map((alive, i) =>\n      getNextGen(alive, getNumofLiveNeighbours(i, cols, board))\n    );\n\n    if (savedCount.current >= 1) {\n      setBoard(newBoard);\n      setGeneration((gen) => gen + 1);\n      savedCount.current -= 1;\n      console.log(\"<Board>: render next gen\");\n    }\n\n    return () => setStep(false);\n  }, [step]);\n\n  // for normal start/stop\n  useEffect(() => {\n    console.log(\"<Board>: start/stop, cols, rows\", cols, rows);\n\n    if (!start) return;\n\n    const newBoard = board.map((alive, i) =>\n      getNextGen(alive, getNumofLiveNeighbours(i, cols, board))\n    );\n\n    const id = setTimeout(() => {\n      if (start) {\n        setBoard(newBoard);\n        setGeneration((gen) => gen + 1);\n        console.log(\"<Board>: ⏯ render next gen\");\n      }\n    }, 1000 - speed);\n\n    return () => clearTimeout(id);\n  }, [start, board]);\n\n  return (\n    <div className={styles.board} id=\"board\" onClick={handleClick}>\n      {board.map((v, i) => {\n        return (\n          <Cell\n            key={i}\n            handleDraw={handleDraw}\n            value={v}\n            idx={i}\n            theme={theme}\n          />\n        );\n      })}\n    </div>\n  );\n}\n","/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Control.jsx",["63","64"],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Cell.jsx",[],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Button.jsx",[],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/boardUtils.js",[],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/cellUtils.js",[],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/uiUtils.js",[],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/appUtil.js",[],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Info.jsx",[],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/utils/demoUtil.js",[],"/Users/ShawnsuDI/Workspace/Shawn's Projects/game-of-life/src/components/Header.jsx",[],{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":1,"column":10,"nodeType":"71","messageId":"72","endLine":1,"endColumn":16},{"ruleId":"69","severity":1,"message":"73","line":5,"column":8,"nodeType":"71","messageId":"72","endLine":5,"endColumn":12},{"ruleId":"69","severity":1,"message":"74","line":7,"column":3,"nodeType":"71","messageId":"72","endLine":7,"endColumn":23},{"ruleId":"75","severity":1,"message":"76","line":95,"column":6,"nodeType":"77","endLine":95,"endColumn":12,"suggestions":"78"},{"ruleId":"75","severity":1,"message":"79","line":116,"column":6,"nodeType":"77","endLine":116,"endColumn":20,"suggestions":"80"},{"ruleId":"69","severity":1,"message":"81","line":4,"column":3,"nodeType":"71","messageId":"72","endLine":4,"endColumn":10},{"ruleId":"69","severity":1,"message":"82","line":6,"column":3,"nodeType":"71","messageId":"72","endLine":6,"endColumn":22},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'Info' is defined but never used.","'getNeighboursIndices' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'board', 'cols', 'setBoard', 'setGeneration', and 'setStep'. Either include them or remove the dependency array. If 'setBoard' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["85"],"React Hook useEffect has missing dependencies: 'cols', 'rows', 'setBoard', 'setGeneration', and 'speed'. Either include them or remove the dependency array. If 'setBoard' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["86"],"'getInit' is defined but never used.","'getMagneticRandomBd' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"87","fix":"88"},{"desc":"89","fix":"90"},"Update the dependencies array to be: [board, cols, setBoard, setGeneration, setStep, step]",{"range":"91","text":"92"},"Update the dependencies array to be: [start, board, cols, rows, speed, setBoard, setGeneration]",{"range":"93","text":"94"},[2308,2314],"[board, cols, setBoard, setGeneration, setStep, step]",[2816,2830],"[start, board, cols, rows, speed, setBoard, setGeneration]"]